# unrouter é¡¹ç›®å¼€å‘è¿›åº¦

> æœ€åæ›´æ–°ï¼š2025-12-15

---

## ğŸ“Š æ€»ä½“è¿›åº¦

- [x] å‰æœŸè°ƒç ” âœ… **å·²å®Œæˆï¼**
- [x] é˜¶æ®µ 1ï¼šHistory åŸºç¡€æŠ½è±¡ âœ… **å·²å®Œæˆï¼**
- [x] é˜¶æ®µ 2ï¼šå¹³å°ç‰¹å®š History å®ç° âœ… **å·²å®Œæˆï¼**
- [ ] é˜¶æ®µ 3ï¼šè·¯ç”±åŒ¹é…å’Œç»„ä»¶
- [ ] é˜¶æ®µ 4ï¼šé›†æˆå’Œæµ‹è¯•
- [ ] é˜¶æ®µ 5ï¼šæ–‡æ¡£å’Œå‘å¸ƒ

---

## âœ… å‰æœŸè°ƒç ”

### æµè§ˆå™¨å¯¼èˆªå’Œå†å²è¡Œä¸ºè°ƒæŸ¥
- [x] åˆ›å»ºè°ƒæŸ¥è®¡åˆ’æ–‡æ¡£ (`docs/browser_navigation_investigation.md`)
- [x] è°ƒæŸ¥ History API æ ¸å¿ƒåŠŸèƒ½
  - [x] pushState/replaceState è¡Œä¸º
  - [x] back/forward/go æ–¹æ³•
  - [x] State å¯¹è±¡åºåˆ—åŒ–å’Œå¤§å°é™åˆ¶
  - [x] åŒæºç­–ç•¥å’Œå®‰å…¨é™åˆ¶
- [x] è°ƒæŸ¥äº‹ä»¶æœºåˆ¶
  - [x] popstate äº‹ä»¶è§¦å‘æ—¶æœº
  - [x] hashchange äº‹ä»¶è¡Œä¸º
  - [x] è·¨æµè§ˆå™¨å…¼å®¹æ€§å·®å¼‚
- [x] è°ƒæŸ¥ URL Fragment å¯¼èˆª
  - [x] window.location.hash è¡Œä¸º
  - [x] é»˜è®¤æ»šåŠ¨è¡Œä¸º
  - [x] ä¸ History API çš„é…åˆ
- [x] ç ”ç©¶ React Router history åº“å®ç°
  - [x] createBrowserHistory æ¨¡å¼
  - [x] createMemoryHistory æ¨¡å¼
  - [x] createHashHistory æ¨¡å¼
- [x] ç¼–å†™æŠ€æœ¯è°ƒæŸ¥æŠ¥å‘Š (`docs/browser_navigation_findings.md`)
- [x] æ›´æ–°é¡¹ç›®æŒ‡å¯¼æ–‡æ¡£ (`CLAUDE.md`)

---

## ğŸ”¨ é˜¶æ®µ 1ï¼šHistory åŸºç¡€æŠ½è±¡ âœ… **å·²å®Œæˆï¼**

### 1.1 å®šä¹‰æ ¸å¿ƒæ•°æ®ç»“æ„ âœ…
- [x] è®¾è®¡ `Location` ç±» (`lib/src/history/location.dart`)
  - [x] pathnameï¼ˆè·¯å¾„ï¼‰
  - [x] searchï¼ˆæŸ¥è¯¢å‚æ•°ï¼‰
  - [x] hashï¼ˆç‰‡æ®µæ ‡è¯†ç¬¦ï¼‰
  - [x] stateï¼ˆçŠ¶æ€å¯¹è±¡ï¼‰
  - [x] keyï¼ˆå”¯ä¸€æ ‡è¯†ç¬¦ï¼‰
  - [x] copyWith æ–¹æ³•
  - [x] toUrl æ–¹æ³•
  - [x] ç›¸ç­‰æ€§æ¯”è¾ƒ
- [x] è®¾è®¡ `Action` æšä¸¾å’Œ `Update` ç±» (`lib/src/history/update.dart`)
  - [x] Pushï¼ˆæ·»åŠ æ–°æ¡ç›®ï¼‰
  - [x] Replaceï¼ˆæ›¿æ¢å½“å‰æ¡ç›®ï¼‰
  - [x] Popï¼ˆåé€€/å‰è¿›ï¼‰
  - [x] Update ç±»å°è£…æ“ä½œå’Œä½ç½®
- [x] è®¾è®¡ `Listener` ç±»å‹å®šä¹‰ (`lib/src/history/listener.dart`)
  - [x] Listener å›è°ƒå‡½æ•°ç­¾å
  - [x] Unlisten å–æ¶ˆè®¢é˜…å‡½æ•°ç±»å‹

### 1.2 å®šä¹‰ History æŠ½è±¡æ¥å£ âœ…
- [x] åˆ›å»º `History` æŠ½è±¡ç±» (`lib/src/history/history.dart`)
  - [x] å±æ€§ï¼š`location` - å½“å‰ä½ç½®
  - [x] å±æ€§ï¼š`action` - æœ€åçš„æ“ä½œç±»å‹
  - [x] æ–¹æ³•ï¼š`push(path, [state])` - æ·»åŠ æ–°æ¡ç›®
  - [x] æ–¹æ³•ï¼š`replace(path, [state])` - æ›¿æ¢å½“å‰æ¡ç›®
  - [x] æ–¹æ³•ï¼š`go(delta)` - è·³è½¬æŒ‡å®šæ­¥æ•°
  - [x] æ–¹æ³•ï¼š`back()` - åé€€ä¸€æ­¥
  - [x] æ–¹æ³•ï¼š`forward()` - å‰è¿›ä¸€æ­¥
  - [x] æ–¹æ³•ï¼š`listen(listener)` - ç›‘å¬å˜åŒ–
  - [x] æ–¹æ³•ï¼š`createHref(location)` - åˆ›å»º URL å­—ç¬¦ä¸²
  - [x] è¾…åŠ©æ–¹æ³•ï¼š`parsePath` - è§£æè·¯å¾„
- [x] ç¼–å†™è¯¦ç»†çš„æ–‡æ¡£æ³¨é‡Š
- [x] æä¾›ä½¿ç”¨ç¤ºä¾‹

### 1.3 å®ç° createMemoryHistory âœ…
- [x] åˆ›å»º `MemoryHistory` ç±» (`lib/src/history/memory_history.dart`)
  - [x] å®ç°å†å²æ¡ç›®æ•°ç»„ï¼ˆ`_entries`ï¼‰
  - [x] å®ç°å½“å‰ç´¢å¼•ï¼ˆ`_index`ï¼‰
  - [x] å®ç°ç›‘å¬å™¨åˆ—è¡¨ï¼ˆ`_listeners`ï¼‰
- [x] å®ç° `push` æ–¹æ³•
  - [x] æˆªæ–­å½“å‰ç´¢å¼•åçš„æ¡ç›®
  - [x] æ·»åŠ æ–°æ¡ç›®
  - [x] æ›´æ–°ç´¢å¼•
  - [x] é€šçŸ¥ç›‘å¬å™¨
  - [x] Location è‡ªåŠ¨ç”Ÿæˆå”¯ä¸€ key
- [x] å®ç° `replace` æ–¹æ³•
  - [x] æ›¿æ¢å½“å‰ç´¢å¼•çš„æ¡ç›®
  - [x] é€šçŸ¥ç›‘å¬å™¨
- [x] å®ç° `go` æ–¹æ³•
  - [x] è¾¹ç•Œæ£€æŸ¥
  - [x] æ›´æ–°ç´¢å¼•
  - [x] é€šçŸ¥ç›‘å¬å™¨
  - [x] delta ä¸º 0 æ—¶åˆ·æ–°
- [x] å®ç° `back` å’Œ `forward` æ–¹æ³•
- [x] å®ç° `listen` æ–¹æ³•
  - [x] æ·»åŠ ç›‘å¬å™¨
  - [x] è¿”å›å–æ¶ˆè®¢é˜…å‡½æ•°
  - [x] æ”¯æŒè¿­ä»£ä¸­ç§»é™¤
- [x] å®ç° `createHref` æ–¹æ³•
- [x] æ”¯æŒåˆå§‹åŒ–é€‰é¡¹
  - [x] `initialEntries` - åˆå§‹å†å²æ¡ç›®ï¼ˆæ”¯æŒ String å’Œ Locationï¼‰
  - [x] `initialIndex` - åˆå§‹ç´¢å¼•
- [x] ç¼–å†™å®Œæ•´çš„å•å…ƒæµ‹è¯• (`test/history/memory_history_test.dart`)
  - [x] æµ‹è¯•åŸºæœ¬å¯¼èˆªï¼ˆpush/replace/go/back/forwardï¼‰
  - [x] æµ‹è¯•ç›‘å¬å™¨é€šçŸ¥
  - [x] æµ‹è¯•è¾¹ç•Œæ¡ä»¶
  - [x] æµ‹è¯•çŠ¶æ€ç®¡ç†
  - [x] æµ‹è¯•å¤æ‚å¯¼èˆªåœºæ™¯
  - [x] **42 ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼**

### 1.4 å¯¼å‡ºå’Œç¤ºä¾‹ âœ…
- [x] æ›´æ–°ä¸»å¯¼å‡ºæ–‡ä»¶ (`lib/unrouter.dart`)
- [x] åˆ›å»ºä½¿ç”¨ç¤ºä¾‹ (`example/history_example.dart`)
- [x] éªŒè¯ç¤ºä¾‹è¿è¡Œæ­£å¸¸

### ğŸ“¦ é˜¶æ®µ 1 äº¤ä»˜ç‰©
- âœ… å®Œæ•´çš„ History æŠ½è±¡æ¥å£
- âœ… åŠŸèƒ½å®Œå–„çš„ MemoryHistory å®ç°
- âœ… 100% æµ‹è¯•è¦†ç›–ç‡ï¼ˆ42 ä¸ªæµ‹è¯•ï¼‰
- âœ… è¯¦ç»†çš„ API æ–‡æ¡£
- âœ… å¯è¿è¡Œçš„ç¤ºä¾‹ä»£ç 

---

## ğŸŒ é˜¶æ®µ 2ï¼šå¹³å°ç‰¹å®š History å®ç° âœ… **å·²å®Œæˆï¼**

### 2.1 BrowserHistory å®ç° âœ…
- [x] åˆ›å»º `BrowserHistory` stub å®ç° (`lib/src/history/browser_history_stub.dart`)
  - [x] é web å¹³å°å›é€€åˆ° MemoryHistory
- [x] åˆ›å»º `BrowserHistory` web å®ç° (`lib/src/history/browser_history_web.dart`)
  - [x] ä½¿ç”¨ `package:web` æ›¿ä»£åºŸå¼ƒçš„ `dart:html`
  - [x] ä½¿ç”¨ `dart:js_interop` è¿›è¡Œ JavaScript äº’æ“ä½œ
  - [x] è¯»å–å½“å‰æµè§ˆå™¨ä½ç½®
  - [x] æ³¨å†Œ popstate äº‹ä»¶ç›‘å¬å™¨
  - [x] å®ç° `push` æ–¹æ³•ï¼ˆè°ƒç”¨ `window.history.pushState`ï¼‰
  - [x] å®ç° `replace` æ–¹æ³•ï¼ˆè°ƒç”¨ `window.history.replaceState`ï¼‰
  - [x] å®ç° `go/back/forward` æ–¹æ³•
  - [x] å®ç° popstate äº‹ä»¶å¤„ç†
  - [x] æ”¯æŒçŠ¶æ€å¯¹è±¡åºåˆ—åŒ–ï¼ˆjsify/dartifyï¼‰
  - [x] å®ç° `dispose()` æ–¹æ³•æ¸…ç†èµ„æº
- [x] åˆ›å»ºæ¡ä»¶å¯¼å‡º (`lib/src/history/browser_history.dart`)
  - [x] ä½¿ç”¨ `dart.library.js_interop` æ¡ä»¶å¯¼å…¥
  - [x] Web å¹³å°è‡ªåŠ¨ä½¿ç”¨ web å®ç°
  - [x] é web å¹³å°è‡ªåŠ¨å›é€€åˆ° stub å®ç°
- [x] ç¼–å†™å®Œæ•´çš„å•å…ƒæµ‹è¯• (`test/history/browser_history_test.dart`)
  - [x] æµ‹è¯•åŸºæœ¬å¯¼èˆªï¼ˆpush/replace/go/back/forwardï¼‰
  - [x] æµ‹è¯•ç›‘å¬å™¨é€šçŸ¥
  - [x] æµ‹è¯•åˆå§‹åŒ–é€‰é¡¹
  - [x] **14 ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼**
- [x] åˆ›å»ºä½¿ç”¨ç¤ºä¾‹ (`example/browser_history_example.dart`)

### 2.2 HashHistory å®ç° âœ…
- [x] åˆ›å»º `HashHistory` stub å®ç° (`lib/src/history/hash_history_stub.dart`)
  - [x] é web å¹³å°å›é€€åˆ° MemoryHistory
  - [x] é‡å†™ `createHref()` æ–¹æ³•æ·»åŠ  `#` å‰ç¼€
- [x] åˆ›å»º `HashHistory` web å®ç° (`lib/src/history/hash_history_web.dart`)
  - [x] ä½¿ç”¨ `package:web` å’Œ `dart:js_interop`
  - [x] è¯»å–å½“å‰ URL hash
  - [x] æ³¨å†Œ hashchange äº‹ä»¶ç›‘å¬å™¨
  - [x] å®ç° `push` æ–¹æ³•ï¼ˆè®¾ç½® `window.location.hash`ï¼‰
  - [x] å®ç° `replace` æ–¹æ³•ï¼ˆä½¿ç”¨ `location.replace`ï¼‰
  - [x] å®ç° `go/back/forward` æ–¹æ³•
  - [x] å®ç° hashchange äº‹ä»¶å¤„ç†
  - [x] é˜²æ­¢é‡å¤è§¦å‘ï¼ˆ_ignoreNextHashChangeï¼‰
  - [x] å®ç° `dispose()` æ–¹æ³•æ¸…ç†èµ„æº
- [x] åˆ›å»ºæ¡ä»¶å¯¼å‡º (`lib/src/history/hash_history.dart`)
  - [x] ä½¿ç”¨ `dart.library.js_interop` æ¡ä»¶å¯¼å…¥
  - [x] Web å¹³å°è‡ªåŠ¨ä½¿ç”¨ web å®ç°
  - [x] é web å¹³å°è‡ªåŠ¨å›é€€åˆ° stub å®ç°
- [x] ç¼–å†™å®Œæ•´çš„å•å…ƒæµ‹è¯• (`test/history/hash_history_test.dart`)
  - [x] æµ‹è¯•åŸºæœ¬å¯¼èˆªï¼ˆpush/replace/go/back/forwardï¼‰
  - [x] æµ‹è¯•ç›‘å¬å™¨é€šçŸ¥
  - [x] æµ‹è¯•åˆå§‹åŒ–é€‰é¡¹
  - [x] æµ‹è¯• createHref ç”Ÿæˆå¸¦ `#` çš„ URL
  - [x] **14 ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼**
- [x] åˆ›å»ºä½¿ç”¨ç¤ºä¾‹ (`example/hash_history_example.dart`)

### 2.3 å¯¼å‡ºå’Œé›†æˆ âœ…
- [x] æ›´æ–°ä¸»å¯¼å‡ºæ–‡ä»¶ (`lib/unrouter.dart`)
  - [x] å¯¼å‡º BrowserHistory
  - [x] å¯¼å‡º HashHistory
  - [x] ç®€åŒ–å¯¼å‡ºè¯­å¥ï¼ˆæ¡ä»¶å¯¼å…¥åœ¨ src æ–‡ä»¶ä¸­å¤„ç†ï¼‰
- [x] éªŒè¯è·¨å¹³å°å…¼å®¹æ€§
  - [x] é web å¹³å°æµ‹è¯•é€šè¿‡ï¼ˆ70 ä¸ªæµ‹è¯•ï¼‰
  - [x] ç¤ºä¾‹åœ¨é web å¹³å°æ­£å¸¸è¿è¡Œ

### ğŸ“¦ é˜¶æ®µ 2 äº¤ä»˜ç‰©
- âœ… BrowserHistory å®Œæ•´å®ç°ï¼ˆstub + webï¼‰
- âœ… HashHistory å®Œæ•´å®ç°ï¼ˆstub + webï¼‰
- âœ… ä½¿ç”¨ package:web æ›¿ä»£åºŸå¼ƒçš„ dart:html
- âœ… 100% æµ‹è¯•è¦†ç›–ç‡ï¼ˆ70 ä¸ªæµ‹è¯•ï¼š42 Memory + 14 Browser + 14 Hashï¼‰
- âœ… æ¡ä»¶å¯¼å…¥å®ç°å¹³å°è‡ªåŠ¨åˆ‡æ¢
- âœ… è¯¦ç»†çš„ API æ–‡æ¡£å’Œæ³¨é‡Š
- âœ… å¯è¿è¡Œçš„ç¤ºä¾‹ä»£ç ï¼ˆ2 ä¸ªæ–°ç¤ºä¾‹ï¼‰

---

## ğŸ§­ é˜¶æ®µ 3ï¼šè·¯ç”±åŒ¹é…å’Œç»„ä»¶

### 3.1 è·¯å¾„åŒ¹é…å™¨
- [ ] è®¾è®¡è·¯ç”±é…ç½®æ•°æ®ç»“æ„
  - [ ] `Route` ç±»
  - [ ] pathï¼ˆè·¯å¾„æ¨¡å¼ï¼‰
  - [ ] builderï¼ˆç»„ä»¶æ„å»ºå™¨ï¼‰
  - [ ] childrenï¼ˆå­è·¯ç”±ï¼‰
  - [ ] namedï¼ˆå‘½å outletï¼‰
- [ ] å®ç°è·¯å¾„è§£æå™¨
  - [ ] é™æ€æ®µåŒ¹é…
  - [ ] å‚æ•°æ®µåŒ¹é…ï¼ˆ`:id`ï¼‰
  - [ ] é€šé…ç¬¦åŒ¹é…ï¼ˆ`*`ã€`**`ï¼‰
- [ ] å®ç°è·¯å¾„å‚æ•°æå–
  - [ ] æå–è·¯å¾„å‚æ•°
  - [ ] æå–æŸ¥è¯¢å‚æ•°
- [ ] å®ç°è·¯ç”±ä¼˜å…ˆçº§æ’åº
  - [ ] é™æ€è·¯ç”±ä¼˜å…ˆ
  - [ ] å‚æ•°è·¯ç”±æ¬¡ä¹‹
  - [ ] é€šé…ç¬¦æœ€å
- [ ] å®ç°åµŒå¥—è·¯ç”±åŒ¹é…
  - [ ] é€’å½’åŒ¹é…å­è·¯ç”±
  - [ ] æ„å»ºåŒ¹é…é“¾
- [ ] ç¼–å†™å•å…ƒæµ‹è¯•
  - [ ] æµ‹è¯•å„ç§è·¯å¾„æ¨¡å¼
  - [ ] æµ‹è¯•å‚æ•°æå–
  - [ ] æµ‹è¯•åµŒå¥—è·¯ç”±

### 3.2 Router æ ¸å¿ƒ
- [ ] åˆ›å»º `Router` ç±»
  - [ ] æŒæœ‰ `History` å®ä¾‹
  - [ ] æŒæœ‰è·¯ç”±é…ç½®
  - [ ] æŒæœ‰å½“å‰åŒ¹é…ç»“æœ
- [ ] å®ç° `createRouter` å·¥å‚å‡½æ•°
  - [ ] æ¥æ”¶ history å’Œè·¯ç”±é…ç½®
  - [ ] åˆå§‹åŒ–è·¯ç”±å™¨
  - [ ] æ‰§è¡Œåˆå§‹åŒ¹é…
- [ ] å®ç°å¯¼èˆªé€»è¾‘
  - [ ] ç›‘å¬ History å˜åŒ–
  - [ ] æ‰§è¡Œè·¯ç”±åŒ¹é…
  - [ ] æ›´æ–°å½“å‰åŒ¹é…
  - [ ] é€šçŸ¥è®¢é˜…è€…
- [ ] å®ç°å¯¼èˆª API
  - [ ] `push(path, [state])`
  - [ ] `replace(path, [state])`
  - [ ] `go(delta)`
  - [ ] `back()`
  - [ ] `forward()`
- [ ] ç¼–å†™å•å…ƒæµ‹è¯•

### 3.3 RouterView ç»„ä»¶
- [ ] åˆ›å»º `RouterView` Widget
  - [ ] æ”¯æŒé»˜è®¤ outlet
  - [ ] æ”¯æŒå‘½å outletï¼ˆ`name` å‚æ•°ï¼‰
- [ ] å®ç°è·¯ç”±ä¸Šä¸‹æ–‡
  - [ ] ä½¿ç”¨ InheritedWidget ä¼ é€’è·¯ç”±ä¿¡æ¯
  - [ ] æä¾›å½“å‰åŒ¹é…ä¿¡æ¯
  - [ ] æä¾›å‚æ•°è®¿é—®
- [ ] å®ç°ç»„ä»¶æ¸²æŸ“
  - [ ] æ ¹æ®åŒ¹é…ç»“æœæ„å»º Widget
  - [ ] æ”¯æŒåµŒå¥—æ¸²æŸ“
  - [ ] æ”¯æŒå¤šä¸ªå‘½å outlet
- [ ] å®ç°å“åº”å¼æ›´æ–°
  - [ ] ç›‘å¬è·¯ç”±å˜åŒ–
  - [ ] è§¦å‘é‡å»º
- [ ] ç¼–å†™ Widget æµ‹è¯•
- [ ] ç¼–å†™é›†æˆæµ‹è¯•

### 3.4 å®ç”¨å·¥å…·
- [ ] å®ç°å‚æ•°è®¿é—® API
  - [ ] `useParams()` - è·å–è·¯å¾„å‚æ•°
  - [ ] `useSearchParams()` - è·å–æŸ¥è¯¢å‚æ•°
  - [ ] `useLocation()` - è·å–å½“å‰ä½ç½®
  - [ ] `useNavigate()` - è·å–å¯¼èˆªå‡½æ•°
- [ ] å®ç°å¯¼èˆªè¾…åŠ©å‡½æ•°
  - [ ] ç›¸å¯¹è·¯å¾„è§£æ
  - [ ] URL æ„å»º
- [ ] ç¼–å†™æ–‡æ¡£å’Œç¤ºä¾‹

---

## ğŸ”— é˜¶æ®µ 4ï¼šé›†æˆå’Œæµ‹è¯•

### 4.1 Flutter é›†æˆ
- [ ] å®ç° `toFlutterRouterConfig` å‡½æ•°
  - [ ] è½¬æ¢ä¸º `RouterConfig<Location>`
  - [ ] å®ç° `RouteInformationParser`
  - [ ] å®ç° `RouterDelegate`
  - [ ] å®ç° `BackButtonDispatcher`
- [ ] æµ‹è¯•ä¸ MaterialApp é›†æˆ
  - [ ] åˆ›å»ºç¤ºä¾‹åº”ç”¨
  - [ ] æµ‹è¯•åŸºæœ¬å¯¼èˆª
  - [ ] æµ‹è¯•åé€€æŒ‰é’®
- [ ] æµ‹è¯•ä¸ CupertinoApp é›†æˆ
- [ ] æµ‹è¯•ä¸ WidgetsApp é›†æˆ
- [ ] å¤„ç†æ·±åº¦é“¾æ¥
- [ ] å¤„ç† Web URL æ›´æ–°

### 4.2 æµ‹è¯•å¥—ä»¶
- [ ] History å•å…ƒæµ‹è¯•
  - [ ] MemoryHistory å®Œæ•´æµ‹è¯•
  - [ ] BrowserHistory æµ‹è¯•ï¼ˆéœ€è¦ Web ç¯å¢ƒï¼‰
  - [ ] FragmentHistory æµ‹è¯•ï¼ˆéœ€è¦ Web ç¯å¢ƒï¼‰
- [ ] è·¯ç”±åŒ¹é…å™¨æµ‹è¯•
  - [ ] å„ç§è·¯å¾„æ¨¡å¼
  - [ ] å‚æ•°æå–
  - [ ] åµŒå¥—è·¯ç”±
  - [ ] è¾¹ç•Œæƒ…å†µ
- [ ] Router é›†æˆæµ‹è¯•
  - [ ] å®Œæ•´å¯¼èˆªæµç¨‹
  - [ ] çŠ¶æ€ç®¡ç†
  - [ ] ç›‘å¬å™¨é€šçŸ¥
- [ ] Widget æµ‹è¯•
  - [ ] RouterView æ¸²æŸ“
  - [ ] åµŒå¥—è·¯ç”±
  - [ ] å‘½å outlet
- [ ] ç«¯åˆ°ç«¯æµ‹è¯•
  - [ ] Native åº”ç”¨åœºæ™¯
  - [ ] Web åº”ç”¨åœºæ™¯
  - [ ] æ··åˆåœºæ™¯

### 4.3 ç¤ºä¾‹åº”ç”¨
- [ ] åˆ›å»ºåŸºç¡€ç¤ºä¾‹
  - [ ] ç®€å•çš„å¤šé¡µå¯¼èˆª
  - [ ] å‚æ•°è·¯ç”±
  - [ ] åµŒå¥—è·¯ç”±
- [ ] åˆ›å»ºé«˜çº§ç¤ºä¾‹
  - [ ] å‘½å outlet
  - [ ] åŠ¨æ€è·¯ç”±
  - [ ] è·¯ç”±å®ˆå«
- [ ] åˆ›å»º Web ç¤ºä¾‹
  - [ ] Browser History
  - [ ] Hash History
  - [ ] URL åŒæ­¥
- [ ] åˆ›å»ºä¸ MaterialApp é›†æˆç¤ºä¾‹

---

## ğŸ“š é˜¶æ®µ 5ï¼šæ–‡æ¡£å’Œå‘å¸ƒ

### 5.1 API æ–‡æ¡£
- [ ] ä¸ºæ‰€æœ‰å…¬å¼€ API ç¼–å†™æ–‡æ¡£æ³¨é‡Š
  - [ ] History æ¥å£
  - [ ] Router ç±»
  - [ ] RouterView Widget
  - [ ] å·¥å…·å‡½æ•°
- [ ] ç”Ÿæˆ API æ–‡æ¡£
- [ ] å®¡æŸ¥æ–‡æ¡£å®Œæ•´æ€§

### 5.2 ç”¨æˆ·æŒ‡å—
- [ ] ç¼–å†™å…¥é—¨æŒ‡å—
  - [ ] å®‰è£…å’Œè®¾ç½®
  - [ ] åŸºæœ¬æ¦‚å¿µ
  - [ ] ç¬¬ä¸€ä¸ªåº”ç”¨
- [ ] ç¼–å†™æ ¸å¿ƒæ¦‚å¿µæ–‡æ¡£
  - [ ] History ç±»å‹é€‰æ‹©
  - [ ] è·¯ç”±é…ç½®
  - [ ] åµŒå¥—è·¯ç”±
  - [ ] å‘½å outlet
- [ ] ç¼–å†™é«˜çº§ä¸»é¢˜
  - [ ] è·¯ç”±å®ˆå«
  - [ ] çŠ¶æ€ç®¡ç†
  - [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] ç¼–å†™è¿ç§»æŒ‡å—
  - [ ] ä»å…¶ä»–è·¯ç”±åº“è¿ç§»

### 5.3 README å’Œç¤ºä¾‹
- [ ] å®Œå–„ README.md
  - [ ] é¡¹ç›®ä»‹ç»
  - [ ] ç‰¹æ€§åˆ—è¡¨
  - [ ] å¿«é€Ÿå¼€å§‹
  - [ ] åŸºæœ¬ç”¨æ³•ç¤ºä¾‹
  - [ ] é“¾æ¥åˆ°å®Œæ•´æ–‡æ¡£
- [ ] åˆ›å»º CHANGELOG.md
- [ ] å‡†å¤‡ç¤ºä¾‹ä»£ç ä»“åº“

### 5.4 å‘å¸ƒå‡†å¤‡
- [ ] å®Œå–„ pubspec.yaml
  - [ ] ç‰ˆæœ¬å·
  - [ ] æè¿°
  - [ ] ä¾èµ–ç‰ˆæœ¬
  - [ ] SDK çº¦æŸ
- [ ] è®¸å¯è¯å®¡æŸ¥
- [ ] å‡†å¤‡å‘å¸ƒè¯´æ˜
- [ ] å‘å¸ƒåˆ° pub.dev
  - [ ] åˆå§‹ç‰ˆæœ¬ 0.1.0
  - [ ] æ”¶é›†åé¦ˆ
  - [ ] è¿­ä»£æ”¹è¿›

---

## ğŸ¯ é‡Œç¨‹ç¢‘

### M1: æ ¸å¿ƒ History å®ç° âœ… **å·²å®Œæˆï¼** (100%)
- [x] æµè§ˆå™¨è¡Œä¸ºè°ƒæŸ¥
- [x] Memory History å®ç°å’Œæµ‹è¯•
- [x] åŸºç¡€æ•°æ®ç»“æ„å®šä¹‰

### M2: å¹³å°æ”¯æŒ âœ… **å·²å®Œæˆï¼** (100%)
- [x] Browser History å®ç°
- [x] Hash History å®ç°
- [x] å¹³å°é€‚é…å±‚ï¼ˆæ¡ä»¶å¯¼å…¥ï¼‰
- [x] è·¨å¹³å°æµ‹è¯•

### M3: è·¯ç”±åŠŸèƒ½ (é¢„è®¡å®Œæˆåº¦: 90%)
- [ ] è·¯ç”±åŒ¹é…å™¨
- [ ] Router æ ¸å¿ƒ
- [ ] RouterView ç»„ä»¶
- [ ] Flutter é›†æˆ

### M4: å‘å¸ƒå°±ç»ª (é¢„è®¡å®Œæˆåº¦: 100%)
- [ ] å®Œæ•´æµ‹è¯•å¥—ä»¶
- [ ] å®Œæ•´æ–‡æ¡£
- [ ] ç¤ºä¾‹åº”ç”¨
- [ ] å‘å¸ƒåˆ° pub.dev

---

## ğŸ“ å¼€å‘æ³¨æ„äº‹é¡¹

### æŠ€æœ¯å†³ç­–
- **History API**ï¼šå‚è€ƒ `docs/browser_navigation_findings.md` å®ç°ç»†èŠ‚
- **å¹³å°æ£€æµ‹**ï¼šä¼˜å…ˆä½¿ç”¨æ¡ä»¶å¯¼å…¥ï¼ˆ`dart:html` vs `dart:io`ï¼‰
- **JavaScript äº’æ“ä½œ**ï¼šä½¿ç”¨æœ€æ–°çš„ `dart:js_interop`ï¼ˆDart 3.2+ï¼‰
- **çŠ¶æ€ç®¡ç†**ï¼šä½¿ç”¨ ChangeNotifier æˆ–è‡ªå®šä¹‰ç›‘å¬å™¨æ¨¡å¼
- **æµ‹è¯•**ï¼šä½¿ç”¨ `test` åŒ…å’Œ `flutter_test` åŒ…

### ä»£ç è§„èŒƒ
- éµå¾ª Dart å®˜æ–¹ä»£ç é£æ ¼
- ä½¿ç”¨ `dart format` æ ¼å¼åŒ–ä»£ç 
- ä½¿ç”¨ `dart analyze` é™æ€åˆ†æ
- ä¿æŒ 100% æµ‹è¯•è¦†ç›–ç‡ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰

### å‚è€ƒèµ„æº
- æµè§ˆå™¨è°ƒæŸ¥æŠ¥å‘Šï¼š`docs/browser_navigation_findings.md`
- React Router Historyï¼šhttps://github.com/remix-run/history
- Vue Routerï¼šhttps://github.com/vuejs/router
- MDN History APIï¼šhttps://developer.mozilla.org/en-US/docs/Web/API/History_API

---

## ğŸ”„ æ›´æ–°æ—¥å¿—

- **2025-12-15**ï¼š
  - åˆ›å»º TODO æ–‡æ¡£ï¼Œå®Œæˆå‰æœŸè°ƒç ”é˜¶æ®µ
  - âœ… å®Œæˆé˜¶æ®µ 1ï¼šHistory åŸºç¡€æŠ½è±¡ï¼ˆ42 ä¸ªæµ‹è¯•ï¼‰
  - âœ… å®Œæˆé˜¶æ®µ 2ï¼šå¹³å°ç‰¹å®š History å®ç°ï¼ˆ70 ä¸ªæµ‹è¯•ï¼‰
    - å®ç° BrowserHistoryï¼ˆä½¿ç”¨ package:web + dart:js_interopï¼‰
    - å®ç° HashHistoryï¼ˆä½¿ç”¨ package:web + dart:js_interopï¼‰
    - å®ç°æ¡ä»¶å¯¼å…¥å®ç°è·¨å¹³å°æ”¯æŒ
    - åºŸå¼ƒ dart:htmlï¼Œå…¨é¢è¿ç§»åˆ° package:web
  - ğŸ“Š å½“å‰é¡¹ç›®è¿›åº¦ï¼š**M1 å’Œ M2 å®Œæˆï¼Œè¿›åº¦çº¦ 40%**
